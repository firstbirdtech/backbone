language: scala

scala:
   - 2.12.11
   - 2.13.1

jdk:
   - openjdk8
   - openjdk11

script:
  - sbt clean scalafmtCheckAll scalafmtSbtCheck coverage test coverageReport coverageAggregate

after_success:
  - bash <(curl -Ls https://coverage.codacy.com/get.sh)

before_cache:
  - find $HOME/.ivy2 -name "ivydata-*.properties" -print -delete
  - find $HOME/.sbt  -name "*.lock"               -print -delete

cache:
  directories:
    - $HOME/.cache/coursier
    - $HOME/.ivy2/cache
    - $HOME/.sbt/boot
    - $HOME/.sbt/launchers

env:
  global:
    # encrypt with: tavis encrpyt CODACY_PROJECT_TOKEN=...
    - secure: "GIh3ZfL69UnZLL2xlgMQezvXEGaN1YbZNKln7w1jy99mwoW9Orr1duU164wukjdzNGgDKqMZ42jp/lesCi+G6eDUEc4JTVqq8bnmG0CugGSrW5LVj1GY5rkIEBtuo2OWBv8pE4J05vSEdtP/c5DvoGQE6xaQ4cf/5sU4/vXT2YhC07VgoVITzWOCFCbqEkvXwvpqM+TZIxZ3jPGHfSkvi6P6gI2DNQQLrPYkj/5XGbZK/YG7a3FMdReZmMURgUuNqxxe9DEcN+bWT3fto5KC9xeUq+vOxA2m3+7i4CGzKoqWi9qwyPJ8TwcFLXG8M/MSi+3/++dZZeIIZGPO3164K8mc8P+bVWgDdt/Z4FXqAeQdA9g7GsdUAcWZZNRJTOEjFK5+O0jXXa2assgWTgfW6LXh4k7uwik6jblbGnDq+S/SyHMgNRgPyED3PyTi2nVFItTqId3cXIbRdGNq5qsP3n2BOtRx+WCyk3mOJ7OJg5DTkxIEOEBcbaxA0ZjaZj5wtRlxEpyN3plFIl+cDG/zLtWvVqLM8M52p/HtSDxZuOCnDrF25ShnKLitWn3Nu5UGJMnABDPtbyodVLNpxd+s5y+86OHHqboIa7BcMBluctCSZHbctGXHaD127oQlEMpIVtc7iY8wT3BYTS5FEWlehw35b5DrQoY4Q2CIpY2MwWU="